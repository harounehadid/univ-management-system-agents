(()=>{window.remoteEntryFederatedModules={};const e={"@bestbuy/brix-web":"brix","pattern-library":"brix","@gvp/lib-load-script":"loadScript",react:"React","react-dom":"ReactDOM",lodash:"_v4","lodash-v4":"_v4",redux:"Redux","react-redux":"ReactRedux","redux-thunk":"ReduxThunk","prop-types":"PropTypes",jquery:"jQuery",falcor:"falcor",i18next:"i18next","react-i18next":"reactI18next","analytics-q":"analyticsQ","@gvp/lib-action-log":"actionLog","@gvp/lib-falcor-model":"falcorModel","@shop/lib-eventmanager":"EventManager","@gvp/lib-fetch":"createFetchService","@gvp/lib-initializer":"initializer","@gvp/lib-appear":"appear","@gvp/lib-embedded-component-renderer":"EmbeddedComponentRenderer"},r={react:"React","react-v18":"React","react-dom":"ReactDOM","react-dom-v18":"ReactDOM","react-redux":"ReactRedux","react-redux-v8":"ReactRedux"},t="11.10.13",o=window._metaLayer&&window._metaLayer.env_assets?window._metaLayer.env_assets:"",i=window.configService&&window.configService.getServiceConfig("platformContainer")?window.configService.getServiceConfig("platformContainer")._bucket:{},n=i.remoteFederatedModules||{},a=n.originalPlatformContainerConfig||{},d=n.container2022||{},c=i.remoteFederatedModules||{},l={varName:"__INTERNAL_PLATFORM_CONTAINER_11.10.13__",scriptLocation:`${o}/federation/platformContainer.${t}.js`,scope:"default",...a},w={varName:"__INTERNAL_PLATFORM_CONTAINER_2022_11.10.13__",scriptLocation:`${o}/federation/platformContainer.2022.${t}.js`,scope:"react-18",...d},p=window.platformMetrics&&window.platformMetrics.enableCollection,s=e=>"@bestbuy/brix-web"===e||"pattern-library"===e,m=(t,o)=>(!o||!r[t]&&!s(t))&&window[e[t]],u=(e,r,t)=>s(r)?t?window.__BRIX_PLATFORM_CONTAINER_2022__:window.__BRIX_PLATFORM_CONTAINER_V1__:window.remoteEntryFederatedModules[e.varName],g=(e,r)=>new Error(`[VPT DependencyProxy]: Failed to find the module: "${e}"${r?` in container name ${r}`:""}.\nYou can get a list of the available federated modules by calling this: window.printAvailableFederatedModules`),f=(e,r,t)=>{const o=u(e,r,t);return o?o.get(r):window.loadScript(`${e.scriptLocation}`,{type:"script"}).then((()=>{const o=u(e,r,t);return void 0!==e.scope&&(window.globalShareScope[e.scope]||(window.globalShareScope[e.scope]={}),o.init(window.globalShareScope[e.scope])),o.get(r)})).catch((e=>{throw g(r,t)}))};Object.values(c).filter((e=>!0===e.preload)).forEach((e=>window.loadScript(e.scriptLocation,{type:"script"}).then()));const b=({callingApplication:t,moduleName:o,containerName:i})=>new Promise((n=>{if(!t)throw new Error('"callingApplication" is a required field of dependencyProxy.');if(!o)throw new Error('"moduleName" is a required field of dependencyProxy.');if(i&&"CONTAINER_2022"!==i)throw new Error('Valid "containerName" parameter values include CONTAINER_2022');p&&window.platformMetrics.moduleFederationLoadCalls.push({timestamp:(new Date).getTime(),callingApplication:t,moduleName:o,containerName:i}),n({get:t=>{try{if(c[o]){const e=c[o];return f(e,o,i)}if(m(o,i))return Promise.resolve((()=>m(o,i)));if(e[o]||r[o]&&!s(o))return f(i&&r[o]?w:l,o,i);throw s(o)&&u({},o,i).get(o),g(o,i)}catch(e){throw g(o,i)}},init:e=>{}})}));async function _(e){return window.depProxy({ca:"platform",mn:e}).then((e=>e.get())).then((e=>e()))}window.getAvailableFederatedModules=function(){const t=window.remoteEntryFederatedModules;return{default:e,CONTAINER_2022:r,remotes:t}},window.printAvailableFederatedModules=function(){console.log(JSON.stringify(window.getAvailableFederatedModules(),null,"\t"))},window.dependencyProxy=b,window.depProxy=async({ca:e,mn:r,cn:t})=>{try{return await b({callingApplication:e,moduleName:r,containerName:t})}catch(e){if(e.message.includes("callingApplication"))throw new Error('"ca" is a required field of depProxy');if(e.message.includes("moduleName"))throw new Error('"mn" is a required field of depProxy');if(e.message.includes("containerName"))throw new Error('The "cn" argument contained a container name which is not registered');throw e}},window.getDep=_,window.getInitializer=()=>_("@gvp/lib-initializer"),window.getAnalyticsQ=()=>_("analytics-q"),window.getAppear=()=>_("@gvp/lib-appear"),window.getLoadScript=()=>_("@gvp/lib-load-script"),window.getEmbeddedComponentRenderer=()=>_("@gvp/lib-embedded-component-renderer")})();
//# sourceMappingURL=platformContainerOrchestrationProxy.11.10.13.js.map