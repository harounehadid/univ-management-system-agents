(function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)})([function(e,t,n){n(1),e.exports=n(31)},function(e,t,n){"use strict";n(2)()||Object.defineProperty(n(3),"Symbol",{value:n(6),configurable:!0,enumerable:!1,writable:!0})},function(e,t,n){"use strict";var r=n(3),o={object:!0,symbol:!0};e.exports=function(){var e,t=r.Symbol;if("function"!=typeof t)return!1;e=t("test symbol");try{String(e)}catch(e){return!1}return!!o[typeof t.iterator]&&(!!o[typeof t.toPrimitive]&&!!o[typeof t.toStringTag])}},function(e,t,n){"use strict";e.exports=n(4)()?globalThis:n(5)},function(e,t,n){"use strict";e.exports=function(){return"object"==typeof globalThis&&(!!globalThis&&globalThis.Array===Array)}},function(e,t){var n=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}()},function(e,t,n){"use strict";var r,o,_,i=n(7),c=n(26),u=n(3).Symbol,a=n(28),f=n(29),l=n(30),s=Object.create,d=Object.defineProperties,y=Object.defineProperty;if("function"==typeof u)try{String(u()),_=!0}catch(e){}else u=null;o=function(e){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return r(e)},e.exports=r=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return _?u(t):(n=s(o.prototype),t=void 0===t?"":String(t),d(n,{__description__:i("",t),__name__:i("",a(t))}))},f(r),l(r),d(o.prototype,{constructor:i(r),toString:i("",(function(){return this.__name__}))}),d(r.prototype,{toString:i((function(){return"Symbol ("+c(this).__description__+")"})),valueOf:i((function(){return c(this)}))}),y(r.prototype,r.toPrimitive,i("",(function(){var e=c(this);return"symbol"==typeof e?e:e.toString()}))),y(r.prototype,r.toStringTag,i("c","Symbol")),y(o.prototype,r.toStringTag,i("c",r.prototype[r.toStringTag])),y(o.prototype,r.toPrimitive,i("c",r.prototype[r.toPrimitive]))},function(e,t,n){"use strict";var r=n(8),o=n(9),_=n(13),i=n(22),c=n(23);(e.exports=function(e,t){var n,o,u,a,f;return arguments.length<2||"string"!=typeof e?(a=t,t=e,e=null):a=arguments[2],r(e)?(n=c.call(e,"c"),o=c.call(e,"e"),u=c.call(e,"w")):(n=u=!0,o=!1),f={value:t,configurable:n,enumerable:o,writable:u},a?_(i(a),f):f}).gs=function(e,t,n){var u,a,f,l;return"string"!=typeof e?(f=n,n=t,t=e,e=null):f=arguments[3],r(t)?o(t)?r(n)?o(n)||(f=n,n=void 0):n=void 0:(f=t,t=n=void 0):t=void 0,r(e)?(u=c.call(e,"c"),a=c.call(e,"e")):(u=!0,a=!1),l={get:t,set:n,configurable:u,enumerable:a},f?_(i(f),l):l}},function(e,t,n){"use strict";e.exports=function(e){return null!=e}},function(e,t,n){"use strict";var r=n(10),o=/^\s*class[\s{/}]/,_=Function.prototype.toString;e.exports=function(e){return!!r(e)&&!o.test(_.call(e))}},function(e,t,n){"use strict";var r=n(11);e.exports=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!r(e)}},function(e,t,n){"use strict";var r=n(12);e.exports=function(e){if(!r(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(e){return!1}}},function(e,t,n){"use strict";var r=n(8),o={object:!0,function:!0,undefined:!0};e.exports=function(e){return!!r(e)&&hasOwnProperty.call(o,typeof e)}},function(e,t,n){"use strict";e.exports=n(14)()?Object.assign:n(15)},function(e,t,n){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){"use strict";var r=n(16),o=n(21),_=Math.max;e.exports=function(e,t){var n,i,c,u=_(arguments.length,2);for(e=Object(o(e)),c=function(r){try{e[r]=t[r]}catch(e){n||(n=e)}},i=1;i<u;++i)r(t=arguments[i]).forEach(c);if(void 0!==n)throw n;return e}},function(e,t,n){"use strict";e.exports=n(17)()?Object.keys:n(18)},function(e,t,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=n(19),o=Object.keys;e.exports=function(e){return o(r(e)?Object(e):e)}},function(e,t,n){"use strict";var r=n(20)();e.exports=function(e){return e!==r&&null!==e}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var r=n(19);e.exports=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,n){"use strict";var r=n(19),o=Array.prototype.forEach,_=Object.create,i=function(e,t){var n;for(n in e)t[n]=e[n]};e.exports=function(e){var t=_(null);return o.call(arguments,(function(e){r(e)&&i(Object(e),t)})),t}},function(e,t,n){"use strict";e.exports=n(24)()?String.prototype.contains:n(25)},function(e,t,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},function(e,t,n){"use strict";var r=String.prototype.indexOf;e.exports=function(e){return r.call(this,e,arguments[1])>-1}},function(e,t,n){"use strict";var r=n(27);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not a symbol");return e}},function(e,t,n){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&("Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag]))}},function(e,t,n){"use strict";var r=n(7),o=Object.create,_=Object.defineProperty,i=Object.prototype,c=o(null);e.exports=function(e){for(var t,n,o=0;c[e+(o||"")];)++o;return c[e+=o||""]=!0,_(i,t="@@"+e,r.gs(null,(function(e){n||(n=!0,_(this,t,r(e)),n=!1)}))),t}},function(e,t,n){"use strict";var r=n(7),o=n(3).Symbol;e.exports=function(e){return Object.defineProperties(e,{hasInstance:r("",o&&o.hasInstance||e("hasInstance")),isConcatSpreadable:r("",o&&o.isConcatSpreadable||e("isConcatSpreadable")),iterator:r("",o&&o.iterator||e("iterator")),match:r("",o&&o.match||e("match")),replace:r("",o&&o.replace||e("replace")),search:r("",o&&o.search||e("search")),species:r("",o&&o.species||e("species")),split:r("",o&&o.split||e("split")),toPrimitive:r("",o&&o.toPrimitive||e("toPrimitive")),toStringTag:r("",o&&o.toStringTag||e("toStringTag")),unscopables:r("",o&&o.unscopables||e("unscopables"))})}},function(e,t,n){"use strict";var r=n(7),o=n(26),_=Object.create(null);e.exports=function(e){return Object.defineProperties(e,{for:r((function(t){return _[t]?_[t]:_[t]=e(String(t))})),keyFor:r((function(e){var t;for(t in o(e),_)if(_[t]===e)return t}))})}},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"__get__",(function(){return p})),n.d(t,"__GetDependency__",(function(){return p})),n.d(t,"__Rewire__",(function(){return v})),n.d(t,"__set__",(function(){return v})),n.d(t,"__ResetDependency__",(function(){return b})),n.d(t,"__RewireAPI__",(function(){return y}));var r=n(33),o=n(40),_=n(45),i=n(59);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){try{if(e)return e}catch(e){try{if(window)return window}catch(e){return this}}}window.RMJS=p("Factory")(p("pages"),p("formats"),p("config"));var a,f=null;function l(){if(null===f){var e=u();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),f=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return f}function s(){var e=u();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),e.__$$GLOBAL_REWIRE_REGISTRY__}function d(){var e=l(),t=s(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(a=u()).__rewire_reset_all__||(a.__rewire_reset_all__=function(){a.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var y={};function p(e){var t=d();if(void 0===t[e])return function(e){switch(e){case"Factory":return r.default;case"pages":return o.default;case"formats":return _.default;case"config":return i}return}(e);var n=t[e];return"__INTENTIONAL_UNDEFINED__"===n?void 0:n}function v(e,t){var n=d();return"object"===c(e)?(Object.keys(e).forEach((function(t){n[t]=e[t]})),function(){Object.keys(e).forEach((function(t){b(e)}))}):(n[e]=void 0===t?"__INTENTIONAL_UNDEFINED__":t,function(){b(e)})}function b(e){var t=d();delete t[e],0==Object.keys(t).length&&delete s()[l]}function h(e){var t=d(),n=Object.keys(e),r={};function o(){n.forEach((function(e){t[e]=r[e]}))}return function(_){n.forEach((function(n){r[n]=t[n],t[n]=e[n]}));var i=_();return i&&"function"==typeof i.then?i.then(o).catch(o):o(),i}}!function(){function e(e,t){Object.defineProperty(y,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",p),e("__GetDependency__",p),e("__Rewire__",v),e("__set__",v),e("__reset__",b),e("__ResetDependency__",b),e("__with__",h)}(),t.default=y}.call(this,n(32))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return c})),n.d(t,"__get__",(function(){return p})),n.d(t,"__GetDependency__",(function(){return p})),n.d(t,"__Rewire__",(function(){return v})),n.d(t,"__set__",(function(){return v})),n.d(t,"__ResetDependency__",(function(){return b})),n.d(t,"__RewireAPI__",(function(){return y}));var r=n(34),o=n(36),_=n(35);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n){return{render:function(r){var o=r.placements.reduce((function(e,t){var n=Object.keys(t).reduce((function(e,t){var n=t.split("-")[0];return e.includes(n)||e.push(n),e}),[]);return e.some((function(e){return n.indexOf(e)>=0}))||(e=e.concat(n)),e}),[]);if(o.length>1)p("logger").error("Multiple pages in resonse: ".concat(o));else if(o.length<1)p("logger").error("No pages found in response");else{var _=o[0],i=new(p("DeliveryResponse"))(r,t,n),c=new(p("PageRunner"))(e[_]);try{c.run(i)}catch(e){}}}}}function u(){try{if(e)return e}catch(e){try{if(window)return window}catch(e){return this}}}var a,f=null;function l(){if(null===f){var e=u();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),f=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return f}function s(){var e=u();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),e.__$$GLOBAL_REWIRE_REGISTRY__}function d(){var e=l(),t=s(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(a=u()).__rewire_reset_all__||(a.__rewire_reset_all__=function(){a.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var y={};function p(e){var t=d();if(void 0===t[e])return function(e){switch(e){case"logger":return _.default;case"DeliveryResponse":return o.default;case"PageRunner":return r.default}return}(e);var n=t[e];return"__INTENTIONAL_UNDEFINED__"===n?void 0:n}function v(e,t){var n=d();return"object"===i(e)?(Object.keys(e).forEach((function(t){n[t]=e[t]})),function(){Object.keys(e).forEach((function(t){b(e)}))}):(n[e]=void 0===t?"__INTENTIONAL_UNDEFINED__":t,function(){b(e)})}function b(e){var t=d();delete t[e],0==Object.keys(t).length&&delete s()[l]}function h(e){var t=d(),n=Object.keys(e),r={};function o(){n.forEach((function(e){t[e]=r[e]}))}return function(_){n.forEach((function(n){r[n]=t[n],t[n]=e[n]}));var i=_();return i&&"function"==typeof i.then?i.then(o).catch(o):o(),i}}!function(){function e(e,t){Object.defineProperty(y,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",p),e("__GetDependency__",p),e("__Rewire__",v),e("__set__",v),e("__reset__",b),e("__ResetDependency__",b),e("__with__",h)}();var E=i(c);function R(e,t){Object.defineProperty(c,e,{value:t,enumerable:!1,configurable:!0})}"object"!==E&&"function"!==E||!Object.isExtensible(c)||(R("__get__",p),R("__GetDependency__",p),R("__Rewire__",v),R("__set__",v),R("__reset__",b),R("__ResetDependency__",b),R("__with__",h),R("__RewireAPI__",y))}.call(this,n(32))},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return u})),n.d(t,"__get__",(function(){return v})),n.d(t,"__GetDependency__",(function(){return v})),n.d(t,"__Rewire__",(function(){return b})),n.d(t,"__set__",(function(){return b})),n.d(t,"__ResetDependency__",(function(){return h})),n.d(t,"__RewireAPI__",(function(){return p}));var r=n(35);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _,c=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,_=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw _}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.page=new t}var t,n,r;return t=e,(n=[{key:"run",value:function(e){var t,n=_(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=e.placements[r];if(0!==o.length){var i,c=[],u=[],a=_(o);try{for(a.s();!(i=a.n()).done;){var f=i.value;v("logger").info("".concat(f.name,": onPreRender")),f.onPreRender(),v("logger").info("".concat(f.name,": Rendering Format")),f.render(),v("logger").info("".concat(f.name,": Injecting"));var l=f.inject(),s=f.config;s&&s.viewabilitySelector&&c.push(s.viewabilitySelector),f.slickContainer&&u.push(f.slickContainer),l?(v("logger").info("".concat(f.name,": Loading CSS, dropping load beacon, starting viewability")),f.loadCss(),f.dropLoadBeacons()):v("logger").error("".concat(f.name,": Failed to inject"))}}catch(e){a.e(e)}finally{a.f()}v("logger").info("".concat(r,": onPageBind")),this.page.onPageBind(r),this.page.startViewability(c,u)}else v("logger").warn("".concat(r,": No Formats Available. Firing onNoContent")),this.page.onNoContent(r)}}catch(e){n.e(e)}finally{n.f()}}}])&&c(t.prototype,n),r&&c(t,r),e}();function a(){try{if(e)return e}catch(e){try{if(window)return window}catch(e){return this}}}var f,l=null;function s(){if(null===l){var e=a();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),l=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return l}function d(){var e=a();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),e.__$$GLOBAL_REWIRE_REGISTRY__}function y(){var e=s(),t=d(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(f=a()).__rewire_reset_all__||(f.__rewire_reset_all__=function(){f.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var p={};function v(e){var t=y();if(void 0===t[e])return function(e){switch(e){case"logger":return r.default}return}(e);var n=t[e];return"__INTENTIONAL_UNDEFINED__"===n?void 0:n}function b(e,t){var n=y();return"object"===o(e)?(Object.keys(e).forEach((function(t){n[t]=e[t]})),function(){Object.keys(e).forEach((function(t){h(e)}))}):(n[e]=void 0===t?"__INTENTIONAL_UNDEFINED__":t,function(){h(e)})}function h(e){var t=y();delete t[e],0==Object.keys(t).length&&delete d()[s]}function E(e){var t=y(),n=Object.keys(e),r={};function o(){n.forEach((function(e){t[e]=r[e]}))}return function(_){n.forEach((function(n){r[n]=t[n],t[n]=e[n]}));var i=_();return i&&"function"==typeof i.then?i.then(o).catch(o):o(),i}}!function(){function e(e,t){Object.defineProperty(p,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",v),e("__GetDependency__",v),e("__Rewire__",b),e("__set__",b),e("__reset__",h),e("__ResetDependency__",h),e("__with__",E)}();var R=o(u);function m(e,t){Object.defineProperty(u,e,{value:t,enumerable:!1,configurable:!0})}"object"!==R&&"function"!==R||!Object.isExtensible(u)||(m("__get__",v),m("__GetDependency__",v),m("__Rewire__",b),m("__set__",b),m("__reset__",h),m("__ResetDependency__",h),m("__with__",E),m("__RewireAPI__",p))}.call(this,n(32))},function(e,t,n){"use strict";n.r(t),function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){var t=document.cookie.match("(^|[^;]+)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():""}n.d(t,"__get__",(function(){return y})),n.d(t,"__GetDependency__",(function(){return y})),n.d(t,"__Rewire__",(function(){return p})),n.d(t,"__set__",(function(){return p})),n.d(t,"__ResetDependency__",(function(){return v})),n.d(t,"__RewireAPI__",(function(){return d}));var _,i=(_="true"==y("getCookie")("rm-debug"),{info:function(e){_&&console.log("RMJS: ".concat(e))},warn:function(e){_&&console.warn("RMJS: ".concat(e))},error:function(e){_&&console.error("RMJS: ".concat(e))}});function c(){try{if(e)return e}catch(e){try{if(window)return window}catch(e){return this}}}t.default=i;var u,a=null;function f(){if(null===a){var e=c();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),a=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return a}function l(){var e=c();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),e.__$$GLOBAL_REWIRE_REGISTRY__}function s(){var e=f(),t=l(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(u=c()).__rewire_reset_all__||(u.__rewire_reset_all__=function(){u.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var d={};function y(e){var t=s();if(void 0===t[e])return function(e){switch(e){case"getCookie":return o}return}(e);var n=t[e];return"__INTENTIONAL_UNDEFINED__"===n?void 0:n}function p(e,t){var n=s();return"object"===r(e)?(Object.keys(e).forEach((function(t){n[t]=e[t]})),function(){Object.keys(e).forEach((function(t){v(e)}))}):(n[e]=void 0===t?"__INTENTIONAL_UNDEFINED__":t,function(){v(e)})}function v(e){var t=s();delete t[e],0==Object.keys(t).length&&delete l()[f]}function b(e){var t=s(),n=Object.keys(e),r={};function o(){n.forEach((function(e){t[e]=r[e]}))}return function(_){n.forEach((function(n){r[n]=t[n],t[n]=e[n]}));var i=_();return i&&"function"==typeof i.then?i.then(o).catch(o):o(),i}}!function(){function e(e,t){Object.defineProperty(d,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",y),e("__GetDependency__",y),e("__Rewire__",p),e("__set__",p),e("__reset__",v),e("__ResetDependency__",v),e("__with__",b)}();var h=r(i);function E(e,t){Object.defineProperty(i,e,{value:t,enumerable:!1,configurable:!0})}"object"!==h&&"function"!==h||!Object.isExtensible(i)||(E("__get__",y),E("__GetDependency__",y),E("__Rewire__",p),E("__set__",p),E("__reset__",v),E("__ResetDependency__",v),E("__with__",b),E("__RewireAPI__",d))}.call(this,n(32))},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return a})),n.d(t,"__get__",(function(){return b})),n.d(t,"__GetDependency__",(function(){return b})),n.d(t,"__Rewire__",(function(){return h})),n.d(t,"__set__",(function(){return h})),n.d(t,"__ResetDependency__",(function(){return E})),n.d(t,"__RewireAPI__",(function(){return v}));var r=n(37),o=n(38),_=n(35);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};c(this,e),this.config=o,this.placements={},Object.keys(n).forEach((function(e){("placements"===e&&n[e].forEach((function(e){for(var n=function(){var n=_[o];t.placements[n]||(t.placements[n]=[]);var i=n.replace(/-/g,"_"),c={};e[n].forEach((function(e){new(b("URL"))(e.OnLoadBeacon).drop();var o=e.format;c[o]>=0?c[o]++:c[o]=0;var _=c[o],u="".concat(o,"_Format_").concat(_),a="".concat(i,"_").concat(u),f=e.products,l=t.getConfig(n,u),s=e.rendering,d=e.products_order;if(Object.prototype.hasOwnProperty.call(r,a))if(!f||f.length<=0)b("logger").warn("There are no ads for this format");else if(l){var y=t.formatAdsAndMakeInstance(r[a],f,l,"".concat(n,"-").concat(o),s,d);t.placements[n].push(y)}else b("logger").warn("Could not find config for ".concat(a));else b("logger").warn("Could not find format '".concat(a,"' in the delivery response."))}))},o=0,_=Object.keys(e);o<_.length;o++)n()})),n[e].OnLoadPlacementBeacon)&&new(b("URL"))(n[e].OnLoadPlacementBeacon).drop()}))}var t,n,r;return t=e,(n=[{key:"formatAdsAndMakeInstance",value:function(e,t,n,r,o,_){return new e(t.map((function(e){return e._ra=JSON.parse(e.RenderingAttributes||"{}"),delete e.RenderingAttributes,e.formattedPrice=b("NumberHelpers").toNumber(e.Price),e.formattedComparePrice=b("NumberHelpers").toNumber(e.ComparePrice),e.StarRatingWidthPercentage=b("NumberHelpers").getStarWidthFromRating(e.Rating),e})),n,r,o,_)}},{key:"getConfig",value:function(e,t){var n=e.split("-");if(n.length<2)b("logger").warn("Delivery responded with page-placement value of ".concat(e,"\n                        ... Cannot find config for that value"));else{var r=this.config[n[0]],o=n[1];if(r&&Object.prototype.hasOwnProperty.call(r,o))if(Object.prototype.hasOwnProperty.call(r,o)){var _=r[n[1]];if(Object.prototype.hasOwnProperty.call(_,t))return _[t];b("logger").warn("No format config for ".concat(t))}else b("logger").warn("There is no config for ".concat(o));else b("logger").warn("There is no page config for ".concat(n[0]))}}},{key:Symbol.iterator,value:function(){var e=Object.keys(this.placements),t=0;return{next:function(){return{value:e[t++],done:t>e.length}}}}}])&&u(t.prototype,n),r&&u(t,r),e}();function f(){try{if(e)return e}catch(e){try{if(window)return window}catch(e){return this}}}var l,s=null;function d(){if(null===s){var e=f();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),s=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return s}function y(){var e=f();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),e.__$$GLOBAL_REWIRE_REGISTRY__}function p(){var e=d(),t=y(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(l=f()).__rewire_reset_all__||(l.__rewire_reset_all__=function(){l.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var v={};function b(e){var t=p();if(void 0===t[e])return function(e){switch(e){case"URL":return o.default;case"logger":return _.default;case"NumberHelpers":return r.default}return}(e);var n=t[e];return"__INTENTIONAL_UNDEFINED__"===n?void 0:n}function h(e,t){var n=p();return"object"===i(e)?(Object.keys(e).forEach((function(t){n[t]=e[t]})),function(){Object.keys(e).forEach((function(t){E(e)}))}):(n[e]=void 0===t?"__INTENTIONAL_UNDEFINED__":t,function(){E(e)})}function E(e){var t=p();delete t[e],0==Object.keys(t).length&&delete y()[d]}function R(e){var t=p(),n=Object.keys(e),r={};function o(){n.forEach((function(e){t[e]=r[e]}))}return function(_){n.forEach((function(n){r[n]=t[n],t[n]=e[n]}));var i=_();return i&&"function"==typeof i.then?i.then(o).catch(o):o(),i}}!function(){function e(e,t){Object.defineProperty(v,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",b),e("__GetDependency__",b),e("__Rewire__",h),e("__set__",h),e("__reset__",E),e("__ResetDependency__",E),e("__with__",R)}();var m=i(a);function O(e,t){Object.defineProperty(a,e,{value:t,enumerable:!1,configurable:!0})}"object"!==m&&"function"!==m||!Object.isExtensible(a)||(O("__get__",b),O("__GetDependency__",b),O("__Rewire__",h),O("__set__",h),O("__reset__",E),O("__ResetDependency__",E),O("__with__",R),O("__RewireAPI__",v))}.call(this,n(32))},function(e,t,n){"use strict";n.r(t);var r={toNumber:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",n={"en-US":["$","",",",".",2],"en-UK":["£","",",",".",2],"fr-FR":["€","",".",",",2],"pt-BR":["R$","",".",",",2],"fr-CA":[""," $"," ",",",2],"en-CA":["$","",",",".",2]},r=n[t],o=parseFloat(e).toFixed(r[4]).split(".");return r[0]+o[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+r[2])+(r[4]>0?r[3]+o[1]:"")+r[1]},getDollarValue:function(e){return Math.floor(e).toString()},getCentsValue:function(e){return(e%1).toFixed(2).toString().substring(1)},getPercentOff:function(e,t){var n=parseFloat(e),r=parseFloat(t);return parseInt((r-n)/r*100)},getPercentOffRounded:function(e,t){var n=parseFloat(e),r=parseFloat(t);return Math.round((r-n)/r*100)},getAmountOff:function(e,t){return parseFloat(t)-parseFloat(e)},getRand:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},getStarWidthFromRating:function(e){return(20*(e=Math.min(Math.max(parseFloat(e),0),5))).toFixed(0)}};t.default=r},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return c})),n.d(t,"__get__",(function(){return p})),n.d(t,"__GetDependency__",(function(){return p})),n.d(t,"__Rewire__",(function(){return v})),n.d(t,"__set__",(function(){return v})),n.d(t,"__ResetDependency__",(function(){return b})),n.d(t,"__RewireAPI__",(function(){return y}));var r=n(39),o=n(35);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.endpoint=t;var n=this.endpoint.match(/\?([~(),-\w=&%.!']*)/),r="";n&&n.length>1&&(r=n[1]),this.qs=new(p("QueryString"))(r)}var t,n,r;return t=e,r=[{key:"createEndpoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t;if("object"===_(t)){n="";for(var r=0,o=Object.keys(t);r<o.length;r++){var i=o[r];n.length&&(n+="&"),n+="".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(t[i]))}}var c="".concat(e,"?").concat(n);return new(p("URL"))(c)}}],(n=[{key:"addQueryStringParameter",value:function(e,t){this.qs.add(e,t);var n="".concat(this.scheme,"://").concat(this.host).concat(this.path,"?").concat(this.qs.formatString(),"#").concat(this.fragment);return new(p("URL"))(n)}},{key:"removeQueryStringParameter",value:function(e){this.qs.remove(e);var t="".concat(this.scheme,"://").concat(this.host).concat(this.path,"?").concat(this.qs.formatString(),"#").concat(this.fragment);return new(p("URL"))(t)}},{key:"getQueryStringParameter",value:function(e){return this.qs.get(e)}},{key:"addRandomParameter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=(1e3*Math.random()).toFixed(0);return this.addQueryStringParameter(e,"".concat(t).concat(n))}},{key:"drop",value:function(){p("Logger").info("Dropped Beacon: ".concat(this.relativePath)),document.createElement("img").src=this.relativePath}},{key:"host",get:function(){var e=this.endpoint.match(/(https?:\/\/)?([-\w.]+)([\/\w]*)?/);return e&&e.length>2?e[2]:""}},{key:"scheme",get:function(){var e=this.endpoint.match(/^(https?):\/\//);return e&&e.length>1?e[1]:"http"}},{key:"path",get:function(){var e=this.endpoint.match(/(https?:\/\/)?[\w.]+(\/[\/\w-]+)/);return e&&e.length>2?e[2]:""}},{key:"queryString",get:function(){return this.qs.formatString()}},{key:"fragment",get:function(){var e=this.endpoint.match(/#(\w+)/);return e&&e.length>1?e[1]:""}},{key:"absolutePath",get:function(){return"".concat(this.scheme,":").concat(this.relativePath)}},{key:"relativePath",get:function(){var e="//".concat(this.host).concat(this.path);return this.qs.formatString()&&(e+="?".concat(this.qs.formatString())),this.fragment&&(e+="#".concat(this.fragment)),e}}])&&i(t.prototype,n),r&&i(t,r),e}();function u(){try{if(e)return e}catch(e){try{if(window)return window}catch(e){return this}}}var a,f=null;function l(){if(null===f){var e=u();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),f=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return f}function s(){var e=u();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),e.__$$GLOBAL_REWIRE_REGISTRY__}function d(){var e=l(),t=s(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(a=u()).__rewire_reset_all__||(a.__rewire_reset_all__=function(){a.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var y={};function p(e){var t=d();if(void 0===t[e])return function(e){switch(e){case"QueryString":return r.default;case"URL":return c;case"Logger":return o.default}return}(e);var n=t[e];return"__INTENTIONAL_UNDEFINED__"===n?void 0:n}function v(e,t){var n=d();return"object"===_(e)?(Object.keys(e).forEach((function(t){n[t]=e[t]})),function(){Object.keys(e).forEach((function(t){b(e)}))}):(n[e]=void 0===t?"__INTENTIONAL_UNDEFINED__":t,function(){b(e)})}function b(e){var t=d();delete t[e],0==Object.keys(t).length&&delete s()[l]}function h(e){var t=d(),n=Object.keys(e),r={};function o(){n.forEach((function(e){t[e]=r[e]}))}return function(_){n.forEach((function(n){r[n]=t[n],t[n]=e[n]}));var i=_();return i&&"function"==typeof i.then?i.then(o).catch(o):o(),i}}!function(){function e(e,t){Object.defineProperty(y,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",p),e("__GetDependency__",p),e("__Rewire__",v),e("__set__",v),e("__reset__",b),e("__ResetDependency__",b),e("__with__",h)}();var E=_(c);function R(e,t){Object.defineProperty(c,e,{value:t,enumerable:!1,configurable:!0})}"object"!==E&&"function"!==E||!Object.isExtensible(c)||(R("__get__",p),R("__GetDependency__",p),R("__Rewire__",v),R("__set__",v),R("__reset__",b),R("__ResetDependency__",b),R("__with__",h),R("__RewireAPI__",y))}.call(this,n(32))},function(e,t,n){"use strict";function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,_=function(){};return{s:_,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:_}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,"default",(function(){return c}));var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";_(this,e),this.qs={};var n,o=t.split("&").filter((function(e){return e})),i=r(o);try{for(i.s();!(n=i.n()).done;){var c=n.value,u=c.split("=");this.qs[u[0]]=decodeURIComponent(u[1])}}catch(e){i.e(e)}finally{i.f()}}var t,n,o;return t=e,(n=[{key:"add",value:function(e,t){this.qs[e]=t}},{key:"get",value:function(e){return this.qs[e]}},{key:"remove",value:function(e){delete this.qs[e]}},{key:"formatString",value:function(){for(var e="",t=0,n=Object.keys(this.qs);t<n.length;t++){var r=n[t];e.length&&(e+="&"),e+="".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(this.qs[r]))}return e}}])&&i(t.prototype,n),o&&i(t,o),e}()},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"__get__",(function(){return d})),n.d(t,"__GetDependency__",(function(){return d})),n.d(t,"__Rewire__",(function(){return y})),n.d(t,"__set__",(function(){return y})),n.d(t,"__ResetDependency__",(function(){return p})),n.d(t,"__RewireAPI__",(function(){return s}));var r=n(41);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _={testPage:d("testPage")};function i(){try{if(e)return e}catch(e){try{if(window)return window}catch(e){return this}}}t.default=_;var c,u=null;function a(){if(null===u){var e=i();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),u=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return u}function f(){var e=i();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),e.__$$GLOBAL_REWIRE_REGISTRY__}function l(){var e=a(),t=f(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(c=i()).__rewire_reset_all__||(c.__rewire_reset_all__=function(){c.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var s={};function d(e){var t=l();if(void 0===t[e])return function(e){switch(e){case"testPage":return r.default}return}(e);var n=t[e];return"__INTENTIONAL_UNDEFINED__"===n?void 0:n}function y(e,t){var n=l();return"object"===o(e)?(Object.keys(e).forEach((function(t){n[t]=e[t]})),function(){Object.keys(e).forEach((function(t){p(e)}))}):(n[e]=void 0===t?"__INTENTIONAL_UNDEFINED__":t,function(){p(e)})}function p(e){var t=l();delete t[e],0==Object.keys(t).length&&delete f()[a]}function v(e){var t=l(),n=Object.keys(e),r={};function o(){n.forEach((function(e){t[e]=r[e]}))}return function(_){n.forEach((function(n){r[n]=t[n],t[n]=e[n]}));var i=_();return i&&"function"==typeof i.then?i.then(o).catch(o):o(),i}}!function(){function e(e,t){Object.defineProperty(s,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",d),e("__GetDependency__",d),e("__Rewire__",y),e("__set__",y),e("__reset__",p),e("__ResetDependency__",p),e("__with__",v)}();var b=o(_);function h(e,t){Object.defineProperty(_,e,{value:t,enumerable:!1,configurable:!0})}"object"!==b&&"function"!==b||!Object.isExtensible(_)||(h("__get__",d),h("__GetDependency__",d),h("__Rewire__",y),h("__set__",y),h("__reset__",p),h("__ResetDependency__",p),h("__with__",v),h("__RewireAPI__",s))}.call(this,n(32))},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return l})),n.d(t,"__get__",(function(){return E})),n.d(t,"__GetDependency__",(function(){return E})),n.d(t,"__Rewire__",(function(){return R})),n.d(t,"__set__",(function(){return R})),n.d(t,"__ResetDependency__",(function(){return m})),n.d(t,"__RewireAPI__",(function(){return h}));var r=n(42);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,e);var t,n,r,o=u(a);function a(){return _(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"onPageBind",value:function(e){console.log("HELLO WORLD SIGNED JEREMIAH")}},{key:"onNoContent",value:function(e){}}])&&i(t.prototype,n),r&&i(t,r),a}(E("AbstractClientPage"));function s(){try{if(e)return e}catch(e){try{if(window)return window}catch(e){return this}}}var d,y=null;function p(){if(null===y){var e=s();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),y=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return y}function v(){var e=s();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),e.__$$GLOBAL_REWIRE_REGISTRY__}function b(){var e=p(),t=v(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(d=s()).__rewire_reset_all__||(d.__rewire_reset_all__=function(){d.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var h={};function E(e){var t=b();if(void 0===t[e])return function(e){switch(e){case"AbstractClientPage":return r.default}return}(e);var n=t[e];return"__INTENTIONAL_UNDEFINED__"===n?void 0:n}function R(e,t){var n=b();return"object"===o(e)?(Object.keys(e).forEach((function(t){n[t]=e[t]})),function(){Object.keys(e).forEach((function(t){m(e)}))}):(n[e]=void 0===t?"__INTENTIONAL_UNDEFINED__":t,function(){m(e)})}function m(e){var t=b();delete t[e],0==Object.keys(t).length&&delete v()[p]}function O(e){var t=b(),n=Object.keys(e),r={};function o(){n.forEach((function(e){t[e]=r[e]}))}return function(_){n.forEach((function(n){r[n]=t[n],t[n]=e[n]}));var i=_();return i&&"function"==typeof i.then?i.then(o).catch(o):o(),i}}!function(){function e(e,t){Object.defineProperty(h,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",E),e("__GetDependency__",E),e("__Rewire__",R),e("__set__",R),e("__reset__",m),e("__ResetDependency__",m),e("__with__",O)}();var g=o(l);function w(e,t){Object.defineProperty(l,e,{value:t,enumerable:!1,configurable:!0})}"object"!==g&&"function"!==g||!Object.isExtensible(l)||(w("__get__",E),w("__GetDependency__",E),w("__Rewire__",R),w("__set__",R),w("__reset__",m),w("__ResetDependency__",m),w("__with__",O),w("__RewireAPI__",h))}.call(this,n(32))},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return i})),n.d(t,"__get__",(function(){return y})),n.d(t,"__GetDependency__",(function(){return y})),n.d(t,"__Rewire__",(function(){return p})),n.d(t,"__set__",(function(){return p})),n.d(t,"__ResetDependency__",(function(){return v})),n.d(t,"__RewireAPI__",(function(){return d}));var r=n(43);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"onPageBind",value:function(e){}},{key:"onNoContent",value:function(e){}},{key:"startViewability",value:function(e,t){var n=".rm-product:not(.slick-cloned)";if(e&&e.length>0){var r=e.join(", ");n+=", ".concat(r)}var o=new(y("ViewabilityControllerBase"))(n);o.start(),t&&t.length>0&&t.forEach((function(e){e.on("afterChange swipe",(function(){return o.checkVisibility()}))}))}}])&&_(t.prototype,n),r&&_(t,r),e}();function c(){try{if(e)return e}catch(e){try{if(window)return window}catch(e){return this}}}var u,a=null;function f(){if(null===a){var e=c();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),a=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return a}function l(){var e=c();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),e.__$$GLOBAL_REWIRE_REGISTRY__}function s(){var e=f(),t=l(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(u=c()).__rewire_reset_all__||(u.__rewire_reset_all__=function(){u.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var d={};function y(e){var t=s();if(void 0===t[e])return function(e){switch(e){case"ViewabilityControllerBase":return r.default}return}(e);var n=t[e];return"__INTENTIONAL_UNDEFINED__"===n?void 0:n}function p(e,t){var n=s();return"object"===o(e)?(Object.keys(e).forEach((function(t){n[t]=e[t]})),function(){Object.keys(e).forEach((function(t){v(e)}))}):(n[e]=void 0===t?"__INTENTIONAL_UNDEFINED__":t,function(){v(e)})}function v(e){var t=s();delete t[e],0==Object.keys(t).length&&delete l()[f]}function b(e){var t=s(),n=Object.keys(e),r={};function o(){n.forEach((function(e){t[e]=r[e]}))}return function(_){n.forEach((function(n){r[n]=t[n],t[n]=e[n]}));var i=_();return i&&"function"==typeof i.then?i.then(o).catch(o):o(),i}}!function(){function e(e,t){Object.defineProperty(d,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",y),e("__GetDependency__",y),e("__Rewire__",p),e("__set__",p),e("__reset__",v),e("__ResetDependency__",v),e("__with__",b)}();var h=o(i);function E(e,t){Object.defineProperty(i,e,{value:t,enumerable:!1,configurable:!0})}"object"!==h&&"function"!==h||!Object.isExtensible(i)||(E("__get__",y),E("__GetDependency__",y),E("__Rewire__",p),E("__set__",p),E("__reset__",v),E("__ResetDependency__",v),E("__with__",b),E("__RewireAPI__",d))}.call(this,n(32))},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return a})),n.d(t,"__get__",(function(){return b})),n.d(t,"__GetDependency__",(function(){return b})),n.d(t,"__Rewire__",(function(){return h})),n.d(t,"__set__",(function(){return h})),n.d(t,"__ResetDependency__",(function(){return E})),n.d(t,"__RewireAPI__",(function(){return v}));var r=n(44),o=n.n(r),_=n(38),i=n(35);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selector=t}var t,n,r;return t=e,(n=[{key:"elementsViewed",value:function(e){e.forEach((function(e,t){if(e.getAttribute(b("defaults").BEACON_URL_ATTRIBUTE)){if(!e.getAttribute(b("defaults").BEACON_STATE_ATTRIBUTE)){e.setAttribute(b("defaults").BEACON_STATE_ATTRIBUTE,"sent"),b("logger").info("Dropping Viewability Beacon");var n=e.getAttribute(b("defaults").BEACON_URL_ATTRIBUTE);new(b("URL"))(n).drop()}}else b("logger").error("".concat(b("defaults").BEACON_URL_ATTRIBUTE," does not exist on element at index ").concat(t))}))}},{key:"start",value:function(){window.addEventListener("scroll",this.checkVisibility.bind(this)),this.checkVisibility()}},{key:"checkVisibility",value:function(){var e=this,t=document.querySelectorAll(this.selector),n=Array.prototype.filter.call(t,(function(t){if(e.isInFrame(t))return t}));n.length>0&&this.elementsViewed(n)}},{key:"isInFrame",value:function(e){var t=window.innerWidth,n=window.innerHeight,r=e.getBoundingClientRect(),o=r.top+r.height/2,_=r.left+r.width/2;return r.top>=0&&r.left>=0&&o<=n&&_<=t}}])&&u(t.prototype,n),r&&u(t,r),e}();function f(){try{if(e)return e}catch(e){try{if(window)return window}catch(e){return this}}}var l,s=null;function d(){if(null===s){var e=f();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),s=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return s}function y(){var e=f();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),e.__$$GLOBAL_REWIRE_REGISTRY__}function p(){var e=d(),t=y(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(l=f()).__rewire_reset_all__||(l.__rewire_reset_all__=function(){l.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var v={};function b(e){var t=p();if(void 0===t[e])return function(e){switch(e){case"defaults":return o.a;case"logger":return i.default;case"URL":return _.default}return}(e);var n=t[e];return"__INTENTIONAL_UNDEFINED__"===n?void 0:n}function h(e,t){var n=p();return"object"===c(e)?(Object.keys(e).forEach((function(t){n[t]=e[t]})),function(){Object.keys(e).forEach((function(t){E(e)}))}):(n[e]=void 0===t?"__INTENTIONAL_UNDEFINED__":t,function(){E(e)})}function E(e){var t=p();delete t[e],0==Object.keys(t).length&&delete y()[d]}function R(e){var t=p(),n=Object.keys(e),r={};function o(){n.forEach((function(e){t[e]=r[e]}))}return function(_){n.forEach((function(n){r[n]=t[n],t[n]=e[n]}));var i=_();return i&&"function"==typeof i.then?i.then(o).catch(o):o(),i}}!function(){function e(e,t){Object.defineProperty(v,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",b),e("__GetDependency__",b),e("__Rewire__",h),e("__set__",h),e("__reset__",E),e("__ResetDependency__",E),e("__with__",R)}();var m=c(a);function O(e,t){Object.defineProperty(a,e,{value:t,enumerable:!1,configurable:!0})}"object"!==m&&"function"!==m||!Object.isExtensible(a)||(O("__get__",b),O("__GetDependency__",b),O("__Rewire__",h),O("__set__",h),O("__reset__",E),O("__ResetDependency__",E),O("__with__",R),O("__RewireAPI__",v))}.call(this,n(32))},function(e,t){e.exports={BEACON_STATE_ATTRIBUTE:"data-rm-beacon-state",BEACON_URL_ATTRIBUTE:"data-rm-beacon",BASE_ENDPOINT_DELIVERY:"/delivery/v2/api/page",BASE_ENDPOINT_EVENT:"/delivery/v2/api/action",BASE_ENDPOINT_PRODUCT:"/delivery/v2/api/update",BASE_ENDPOINT_ERROR:"beam.criteo.com/jserror"}},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"__get__",(function(){return d})),n.d(t,"__GetDependency__",(function(){return d})),n.d(t,"__Rewire__",(function(){return y})),n.d(t,"__set__",(function(){return y})),n.d(t,"__ResetDependency__",(function(){return p})),n.d(t,"__RewireAPI__",(function(){return s}));var r=n(46);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _={testPage_testPlacement_Sponsored_Products_Format_0:d("testPage_testPlacement_Sponsored_Products_Format_0")};function i(){try{if(e)return e}catch(e){try{if(window)return window}catch(e){return this}}}t.default=_;var c,u=null;function a(){if(null===u){var e=i();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),u=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return u}function f(){var e=i();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),e.__$$GLOBAL_REWIRE_REGISTRY__}function l(){var e=a(),t=f(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(c=i()).__rewire_reset_all__||(c.__rewire_reset_all__=function(){c.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var s={};function d(e){var t=l();if(void 0===t[e])return function(e){switch(e){case"testPage_testPlacement_Sponsored_Products_Format_0":return r.default}return}(e);var n=t[e];return"__INTENTIONAL_UNDEFINED__"===n?void 0:n}function y(e,t){var n=l();return"object"===o(e)?(Object.keys(e).forEach((function(t){n[t]=e[t]})),function(){Object.keys(e).forEach((function(t){p(e)}))}):(n[e]=void 0===t?"__INTENTIONAL_UNDEFINED__":t,function(){p(e)})}function p(e){var t=l();delete t[e],0==Object.keys(t).length&&delete f()[a]}function v(e){var t=l(),n=Object.keys(e),r={};function o(){n.forEach((function(e){t[e]=r[e]}))}return function(_){n.forEach((function(n){r[n]=t[n],t[n]=e[n]}));var i=_();return i&&"function"==typeof i.then?i.then(o).catch(o):o(),i}}!function(){function e(e,t){Object.defineProperty(s,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",d),e("__GetDependency__",d),e("__Rewire__",y),e("__set__",y),e("__reset__",p),e("__ResetDependency__",p),e("__with__",v)}();var b=o(_);function h(e,t){Object.defineProperty(_,e,{value:t,enumerable:!1,configurable:!0})}"object"!==b&&"function"!==b||!Object.isExtensible(_)||(h("__get__",d),h("__GetDependency__",d),h("__Rewire__",y),h("__set__",y),h("__reset__",p),h("__ResetDependency__",p),h("__with__",v),h("__RewireAPI__",s))}.call(this,n(32))},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return f})),n.d(t,"__get__",(function(){return h})),n.d(t,"__GetDependency__",(function(){return h})),n.d(t,"__Rewire__",(function(){return E})),n.d(t,"__set__",(function(){return E})),n.d(t,"__ResetDependency__",(function(){return R})),n.d(t,"__RewireAPI__",(function(){return b}));var r=n(47);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(n,e);var t=c(n);function n(){return _(this,n),t.apply(this,arguments)}return n}(h("AbstractSponsored_Products"));function l(){try{if(e)return e}catch(e){try{if(window)return window}catch(e){return this}}}var s,d=null;function y(){if(null===d){var e=l();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),d=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return d}function p(){var e=l();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),e.__$$GLOBAL_REWIRE_REGISTRY__}function v(){var e=y(),t=p(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(s=l()).__rewire_reset_all__||(s.__rewire_reset_all__=function(){s.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var b={};function h(e){var t=v();if(void 0===t[e])return function(e){switch(e){case"AbstractSponsored_Products":return r.default}return}(e);var n=t[e];return"__INTENTIONAL_UNDEFINED__"===n?void 0:n}function E(e,t){var n=v();return"object"===o(e)?(Object.keys(e).forEach((function(t){n[t]=e[t]})),function(){Object.keys(e).forEach((function(t){R(e)}))}):(n[e]=void 0===t?"__INTENTIONAL_UNDEFINED__":t,function(){R(e)})}function R(e){var t=v();delete t[e],0==Object.keys(t).length&&delete p()[y]}function m(e){var t=v(),n=Object.keys(e),r={};function o(){n.forEach((function(e){t[e]=r[e]}))}return function(_){n.forEach((function(n){r[n]=t[n],t[n]=e[n]}));var i=_();return i&&"function"==typeof i.then?i.then(o).catch(o):o(),i}}!function(){function e(e,t){Object.defineProperty(b,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",h),e("__GetDependency__",h),e("__Rewire__",E),e("__set__",E),e("__reset__",R),e("__ResetDependency__",R),e("__with__",m)}();var O=o(f);function g(e,t){Object.defineProperty(f,e,{value:t,enumerable:!1,configurable:!0})}"object"!==O&&"function"!==O||!Object.isExtensible(f)||(g("__get__",h),g("__GetDependency__",h),g("__Rewire__",E),g("__set__",E),g("__reset__",R),g("__ResetDependency__",R),g("__with__",m),g("__RewireAPI__",b))}.call(this,n(32))},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return f})),n.d(t,"__get__",(function(){return h})),n.d(t,"__GetDependency__",(function(){return h})),n.d(t,"__Rewire__",(function(){return E})),n.d(t,"__set__",(function(){return E})),n.d(t,"__ResetDependency__",(function(){return R})),n.d(t,"__RewireAPI__",(function(){return b}));var r=n(48);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(n,e);var t=c(n);function n(){return _(this,n),t.apply(this,arguments)}return n}(h("Format"));function l(){try{if(e)return e}catch(e){try{if(window)return window}catch(e){return this}}}var s,d=null;function y(){if(null===d){var e=l();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),d=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return d}function p(){var e=l();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),e.__$$GLOBAL_REWIRE_REGISTRY__}function v(){var e=y(),t=p(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(s=l()).__rewire_reset_all__||(s.__rewire_reset_all__=function(){s.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var b={};function h(e){var t=v();if(void 0===t[e])return function(e){switch(e){case"Format":return r.default}return}(e);var n=t[e];return"__INTENTIONAL_UNDEFINED__"===n?void 0:n}function E(e,t){var n=v();return"object"===o(e)?(Object.keys(e).forEach((function(t){n[t]=e[t]})),function(){Object.keys(e).forEach((function(t){R(e)}))}):(n[e]=void 0===t?"__INTENTIONAL_UNDEFINED__":t,function(){R(e)})}function R(e){var t=v();delete t[e],0==Object.keys(t).length&&delete p()[y]}function m(e){var t=v(),n=Object.keys(e),r={};function o(){n.forEach((function(e){t[e]=r[e]}))}return function(_){n.forEach((function(n){r[n]=t[n],t[n]=e[n]}));var i=_();return i&&"function"==typeof i.then?i.then(o).catch(o):o(),i}}!function(){function e(e,t){Object.defineProperty(b,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",h),e("__GetDependency__",h),e("__Rewire__",E),e("__set__",E),e("__reset__",R),e("__ResetDependency__",R),e("__with__",m)}();var O=o(f);function g(e,t){Object.defineProperty(f,e,{value:t,enumerable:!1,configurable:!0})}"object"!==O&&"function"!==O||!Object.isExtensible(f)||(g("__get__",h),g("__GetDependency__",h),g("__Rewire__",E),g("__set__",E),g("__reset__",R),g("__ResetDependency__",R),g("__with__",m),g("__RewireAPI__",b))}.call(this,n(32))},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return a})),n.d(t,"__get__",(function(){return b})),n.d(t,"__GetDependency__",(function(){return b})),n.d(t,"__Rewire__",(function(){return h})),n.d(t,"__set__",(function(){return h})),n.d(t,"__ResetDependency__",(function(){return E})),n.d(t,"__RewireAPI__",(function(){return v}));var r=n(49),o=n(55),_=n(35),i=n(38);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ads=t,this.config=n,this.name=r,this.viewabilitySelector=n.viewabilitySelector,this.mobileBreakpoint=!1}var t,n,r;return t=e,(n=[{key:"onPreRender",value:function(){}},{key:"render",value:function(){this.elements=b("treatmentLoader").apply(this.config.treatment,this.ads),this.elements.length!==this.ads.length&&b("logger").error("".concat(this.name," failed to render all ads")),this.optionsSetup(),this.mobileBreakpoint&&this.setBreakpoints()}},{key:"inject",value:function(){var e=this.config.injection;if(!e)return b("logger").error("".concat(this.name," - No injection logic provided in config or inject method override")),!1;if(!this.elements||!this.elements.length)return b("logger").error("".concat(this.name," - Cannot inject, no ad elements available")),!1;var t=this.elements;if(e.containerID){var n=document.createElement("div");n.id=e.containerID,this.elements.forEach((function(e){return n.appendChild(e)})),t=[n]}if(!e.target)return b("logger").error("".concat(this.name," - Cannot inject, no injection target provided")),!1;var r=document.querySelectorAll(e.target)[e.targetIndex||0];if(!r)return b("logger").error("".concat(this.name," - Cannot inject, injection point ").concat(e.target," not found")),!1;switch(e.targetPosition||"after"){case"after":t.slice().reverse().forEach((function(e){r.parentNode.insertBefore(e,r.nextSibling)}));break;case"before":t.forEach((function(e){r.parentNode.insertBefore(e,r)}));break;case"prepend":t.slice().reverse().forEach((function(e){r.insertBefore(e,r.firstChild)}));break;case"append":t.forEach((function(e){r.appendChild(e)}));break;default:return b("logger").error("".concat(this.name," - Cannot inject, invalid targetPosition value")),!1}return!0}},{key:"dropLoadBeacons",value:function(){this.ads.forEach((function(e){new(b("URL"))(e.OnLoadBeacon).drop()}))}},{key:"loadCss",value:function(){b("styleLoader").load(this.config.style)}},{key:"setBreakpoints",value:function(){this.setDataViewport(),window.addEventListener("resize",this.setDataViewport.bind(this))}},{key:"setDataViewport",value:function(){this.isInMobileView()?this.html.setAttribute("data-viewport","mobile"):this.html.setAttribute("data-viewport","desktop")}},{key:"isInMobileView",value:function(){return window.matchMedia("(max-width: "+this.mobileBreakpoint+"px)").matches}},{key:"optionsSetup",value:function(){var e=this;if(this.renderingData&&"video"===this.renderingData.optional_footer_type&&this.renderingData.optional_footer_media_video)for(var t=0,n=[".rm-option"];t<n.length;t++){var r=n[t],o=this.html.querySelectorAll(r);o.length&&o.forEach((function(t){t.addEventListener("click",e.loadVideoIframe.bind(e))}))}}},{key:"loadVideoIframe",value:function(){if(!document.querySelector("body .rm-video")){var e=document.querySelector("body"),t=document.createElement("div"),n=document.createElement("div"),r="rm-video";this.mobileBreakpoint&&this.isInMobileView()&&(r+=" rm-mobile-video"),t.className=r,t.innerHTML='<div class="rm-close-video"><div class="rm-picto-close"></div></div><div class="rm-video-wrapper">'+this.renderingData.optional_footer_media_video+"</div>",n.className="rm-video-background",e.appendChild(n),e.appendChild(t),n.addEventListener("click",this.removeVideoIframe.bind(this,e,t,n)),t.addEventListener("click",this.removeVideoIframe.bind(this,e,t,n))}}},{key:"removeVideoIframe",value:function(e,t,n){e.removeChild(t),e.removeChild(n)}}])&&u(t.prototype,n),r&&u(t,r),e}();function f(){try{if(e)return e}catch(e){try{if(window)return window}catch(e){return this}}}var l,s=null;function d(){if(null===s){var e=f();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),s=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return s}function y(){var e=f();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),e.__$$GLOBAL_REWIRE_REGISTRY__}function p(){var e=d(),t=y(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(l=f()).__rewire_reset_all__||(l.__rewire_reset_all__=function(){l.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var v={};function b(e){var t=p();if(void 0===t[e])return function(e){switch(e){case"treatmentLoader":return o.default;case"logger":return _.default;case"URL":return i.default;case"styleLoader":return r.default}return}(e);var n=t[e];return"__INTENTIONAL_UNDEFINED__"===n?void 0:n}function h(e,t){var n=p();return"object"===c(e)?(Object.keys(e).forEach((function(t){n[t]=e[t]})),function(){Object.keys(e).forEach((function(t){E(e)}))}):(n[e]=void 0===t?"__INTENTIONAL_UNDEFINED__":t,function(){E(e)})}function E(e){var t=p();delete t[e],0==Object.keys(t).length&&delete y()[d]}function R(e){var t=p(),n=Object.keys(e),r={};function o(){n.forEach((function(e){t[e]=r[e]}))}return function(_){n.forEach((function(n){r[n]=t[n],t[n]=e[n]}));var i=_();return i&&"function"==typeof i.then?i.then(o).catch(o):o(),i}}!function(){function e(e,t){Object.defineProperty(v,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",b),e("__GetDependency__",b),e("__Rewire__",h),e("__set__",h),e("__reset__",E),e("__ResetDependency__",E),e("__with__",R)}();var m=c(a);function O(e,t){Object.defineProperty(a,e,{value:t,enumerable:!1,configurable:!0})}"object"!==m&&"function"!==m||!Object.isExtensible(a)||(O("__get__",b),O("__GetDependency__",b),O("__Rewire__",h),O("__set__",h),O("__reset__",E),O("__ResetDependency__",E),O("__with__",R),O("__RewireAPI__",v))}.call(this,n(32))},function(e,t,n){"use strict";function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,_=function(){};return{s:_,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:_}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.r(t);var _,i=(_=n(50),{load:function(e){var t,n=r(_.keys());try{for(n.s();!(t=n.n()).done;){var o=t.value;-1!==o.indexOf(e)&&_(o)}}catch(e){n.e(e)}finally{n.f()}}});t.default=i},function(e,t,n){var r={"./testPage/testPlacement/Sponsored_Products/Format_0/style.css":51};function o(e){var t=_(e);return n(t)}function _(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=_,e.exports=o,o.id=50},function(e,t,n){var r=n(52),o=n(53);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var _={insert:"head",singleton:!1};r(o,_);e.exports=o.locals||{}},function(e,t,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},_=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function c(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function u(e,t){for(var n={},r=[],o=0;o<e.length;o++){var _=e[o],u=t.base?_[0]+t.base:_[0],a=n[u]||0,f="".concat(u," ").concat(a);n[u]=a+1;var l=c(f),s={css:_[1],media:_[2],sourceMap:_[3]};-1!==l?(i[l].references++,i[l].updater(s)):i.push({identifier:f,updater:v(s,t),references:1}),r.push(f)}return r}function a(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var i=_(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var f,l=(f=[],function(e,t){return f[e]=t,f.filter(Boolean).join("\n")});function s(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,o);else{var _=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(_,i[t]):e.appendChild(_)}}function d(e,t,n){var r=n.css,o=n.media,_=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),_&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(_))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var y=null,p=0;function v(e,t){var n,r,o;if(t.singleton){var _=p++;n=y||(y=a(t)),r=s.bind(null,n,_,!1),o=s.bind(null,n,_,!0)}else n=a(t),r=d.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=u(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=c(n[r]);i[o].references--}for(var _=u(e,t),a=0;a<n.length;a++){var f=c(n[a]);0===i[f].references&&(i[f].updater(),i.splice(f,1))}n=_}}}},function(e,t,n){(t=n(54)(!1)).push([e.i,"",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(i=r,c=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(u," */")),_=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(_).concat([o]).join("\n")}var i,c,u;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var _=0;_<this.length;_++){var i=this[_][0];null!=i&&(o[i]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&o[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"__get__",(function(){return v})),n.d(t,"__GetDependency__",(function(){return v})),n.d(t,"__Rewire__",(function(){return b})),n.d(t,"__set__",(function(){return b})),n.d(t,"__ResetDependency__",(function(){return h})),n.d(t,"__RewireAPI__",(function(){return p}));var r=n(56);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _,c=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,_=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw _}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c,u=(c=n(57),{apply:function(e,t){var n,r=_(c.keys());try{for(r.s();!(n=r.n()).done;){var i=n.value;if(-1!==i.indexOf(e)){var u=function(){var e=c(i);return{v:t.map((function(t){return v("DOMUtilityOperations").toDOM(e(t))[0]}))}}();if("object"===o(u))return u.v}}}catch(e){r.e(e)}finally{r.f()}}});function a(){try{if(e)return e}catch(e){try{if(window)return window}catch(e){return this}}}t.default=u;var f,l=null;function s(){if(null===l){var e=a();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),l=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return l}function d(){var e=a();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),e.__$$GLOBAL_REWIRE_REGISTRY__}function y(){var e=s(),t=d(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(f=a()).__rewire_reset_all__||(f.__rewire_reset_all__=function(){f.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var p={};function v(e){var t=y();if(void 0===t[e])return function(e){switch(e){case"DOMUtilityOperations":return r.default}return}(e);var n=t[e];return"__INTENTIONAL_UNDEFINED__"===n?void 0:n}function b(e,t){var n=y();return"object"===o(e)?(Object.keys(e).forEach((function(t){n[t]=e[t]})),function(){Object.keys(e).forEach((function(t){h(e)}))}):(n[e]=void 0===t?"__INTENTIONAL_UNDEFINED__":t,function(){h(e)})}function h(e){var t=y();delete t[e],0==Object.keys(t).length&&delete d()[s]}function E(e){var t=y(),n=Object.keys(e),r={};function o(){n.forEach((function(e){t[e]=r[e]}))}return function(_){n.forEach((function(n){r[n]=t[n],t[n]=e[n]}));var i=_();return i&&"function"==typeof i.then?i.then(o).catch(o):o(),i}}!function(){function e(e,t){Object.defineProperty(p,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",v),e("__GetDependency__",v),e("__Rewire__",b),e("__set__",b),e("__reset__",h),e("__ResetDependency__",h),e("__with__",E)}();var R=o(u);function m(e,t){Object.defineProperty(u,e,{value:t,enumerable:!1,configurable:!0})}"object"!==R&&"function"!==R||!Object.isExtensible(u)||(m("__get__",v),m("__GetDependency__",v),m("__Rewire__",b),m("__set__",b),m("__reset__",h),m("__ResetDependency__",h),m("__with__",E),m("__RewireAPI__",p))}.call(this,n(32))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,"default",(function(){return o}));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"addScript",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("script");n.type="text/javascript",n.async=t,n.src=e,document.getElementsByTagName("head")[0].appendChild(n)}},{key:"addCss",value:function(e){var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}},{key:"addImage",value:function(e,t,n){var r=document.createElement("img");r.src=e,r.height=1,r.width=1,r.style.display="none",r.onload=t,r.onerror=n,document.getElementsByTagName("head")[0].appendChild(r)}},{key:"toDOM",value:function(e){var t=document.createElement("div");return t.innerHTML=e,t.children}}],(n=null)&&r(t.prototype,n),o&&r(t,o),e}()},function(e,t,n){var r={"./testPage/testPlacement/Sponsored_Products/Format_0/template.jst":58};function o(e){var t=_(e);return n(t)}function _(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=_,e.exports=o,o.id=57},function(e,t){e.exports=function(e){return'<div class="rm-product"></div>'}},function(e){e.exports=JSON.parse('{"testPage":{"testPlacement":{"Sponsored_Products_Format_0":{"injection":{"target":""},"treatment":"./testPage/testPlacement/Sponsored_Products/Format_0/template.jst","style":"./testPage/testPlacement/Sponsored_Products/Format_0/style.css","viewabilitySelector":"","abTesting":{}}}}}')}]);